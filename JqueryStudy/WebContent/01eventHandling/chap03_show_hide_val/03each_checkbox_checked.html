<!DOCTYPE html>
<html oncontextmenu="return false" ondragstart="return false" onselectstart="return false">
<!-- 
     === >>> 소스보기 금지 <<< === 
	 oncontextmenu="return false" : 마우스 오른쪽 메뉴 금지
     ondragstart="return false"   : 드래그 금지
     onselectstart="return false" : 선택복사 금지
 -->
<head>
<meta charset="UTF-8">
<title>체크박스를 가지고 4지 선다 문제만들기 - 반복문 처럼 쓰이는 each(); 에 대해서 알아봅니다.</title>

<style type="text/css">
	.answerCheck {
		margin: 10px;
	}
</style>

<script type="text/javascript" src="../../js/jquery-3.3.1.min.js"></script>
<script type="text/javascript">

	$(document).ready(function(){
		
		$(".answerCheck").hide();
		
		// ==== 체크박스를 라디오 처럼 1개만 선택되어지도록 만들기 ==== // 
		$("input:checkbox[name=answer]").bind("click", function(){
			
			$("input:checkbox[name=answer]").prop("checked", false);
			// 모든 체크박스는 체크가 안되어지도록 만든다.
			
			$(this).prop("checked", true);
			// 현재 클릭한 체크박스만 체크가 되어진 상태로 만든다.
		});
		
		
		$("#btnOK").bind("click", function(){
			
			var bFlag = false; 
			var bChoice = false;  // 정답이든 오답이든 라디오를 선택했는지 선택을 아예 아무것도 안했는지 유무를 알아오는 것 
			
			$("input:checkbox[name=answer]").each(function(index,item){
			 /*
				if(index > 1) {
					return false; // return false; 가 마치 for문에서의 break; 와 같은 기능이다.
					              // return true;  가 마치 for문에서의 continue; 와 같은 기능이다. 
				}
				console.log("인덱스 : " + index);
			 // console.log("아이템 : " + item);
			 */
			  
			 // console.log("value값 : " + $(this).val());
			
			 /*
				==== jQuery 에서 라디오 또는 체크박스에 선택을 했는지를 알아오는 2가지 방법 ====
			    	
			    1. $(라디오 또는 체크박스의 선택자).prop("checked") 
			       ==> 선택을 했으면 true, 선택을 안했으면 false
			       
			    2. $(라디오 또는 체크박스의 선택자).is(":checked")   
			       ==> 선택을 했으면 true, 선택을 안했으면 false
			 */
			//	console.log("선택여부 : " + $(this).prop("checked"));
			//	console.log("선택여부 : " + $(this).is(":checked"));
			
			    if( $(this).prop("checked") ) { 
			    	// 라디오 4개중 아무거나 1개를 선택한 경우이라면 
			    	bChoice = true; 
			    }
			
			    if( $(this).prop("checked") && $(this).val() == "3" ) {
			    	// 정답을 선택했다라면 
			        $(".answerCheck").hide();
			    	$(".ok").show();
			    	
			    	bFlag = true;
			    	return false;
			    }
			    
			});// end of $("input:radio[name=answer]").each(function(index,item){});---------------
			
			if(bChoice && !bFlag) {
				// 오답을 선택한 경우
				$(".answerCheck").hide();
				$(".no").show();
			}
			
			if(!bChoice) {
				// 정답이든 오답이든 라디오를 선택을 아예 아무것도 안한 경우 
				alert("정답을 선택하세요!!");
			}
			
		});// end of $("#btnOK").bind("click", function(){});------------------
		
		
		$("#btnRestart").bind("click", function(){
			$(".answerCheck").hide();
		});
		
	}); // end of $(document).ready(function(){})---------------------------

</script>

</head>
<body>
<!-- 
     === >>> 소스보기 금지 <<< === 
	 oncontextmenu="return false" : 마우스 오른쪽 메뉴 금지
     ondragstart="return false"   : 드래그 금지
     onselectstart="return false" : 선택복사 금지
 -->
	<form name="frm"> 
		[문제] 다음중 8+5*3 은 얼마입니까?<br>
		<ol>
			<li><label for="answer1">20</label><input type="checkbox" name="answer" id="answer1" value="1" /></li>
			<li><label for="answer2">30</label><input type="checkbox" name="answer" id="answer2" value="2" /></li>
			<li><label for="answer3">23</label><input type="checkbox" name="answer" id="answer3" value="3" /></li>
			<li><label for="answer4">45</label><input type="checkbox" name="answer" id="answer4" value="4" /></li>
		</ol>
		<br><br>
		<button type="button" id="btnOK">정답확인</button>
		<button type="reset" id="btnRestart">다시시작</button>
	</form>
	
	<div class="answerCheck ok"><img src="images/ok.png" /></div>
	<div class="answerCheck no"><img src="images/no.png" /></div>

</body>
</html>






